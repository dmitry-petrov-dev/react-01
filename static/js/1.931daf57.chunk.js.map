{"version":3,"sources":["components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/MyPosts/ProfileInfo/ProfileStatus.jsx","components/Profile/MyPosts/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","postsBlock","posts","item","profileHeader","descriptionBlock","Post","props","react_default","a","createElement","className","classes","src","alt","message","maxLength10","maxLengthCreator","AddNewPostFormRedux","reduxForm","form","_ref2","handleSubmit","onSubmit","Field","component","Textarea","name","placeholder","validate","required","MyPosts","_ref","addPost","postElements","map","post","MyPosts_Post_Post","values","newPost","connect","state","profilePage","newPostText","ProfileStatus","_useState","useState","_useState2","Object","slicedToArray","editMode","setEditMode","_useState3","status","_useState4","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateUserStatus","ProfileInfo","profile","photos","large","userAvatar","aboutMe","ProfileInfo_ProfileStatus","Preloader","Profile","store","MyPosts_ProfileInfo_ProfileInfo","MyPostsContainer","ProfileContainer","profileId","this","router","params","history","push","getUserProfile","getUserStatus","components_Profile_Profile","assign","React","Component","compose","auth","userId","isAuth","WithRouter","withAuthRedirect"],"mappings":"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","file":"static/js/1.931daf57.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__3v4Nx\",\"posts\":\"MyPosts_posts__2Facv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1t14y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileHeader\":\"ProfileInfo_profileHeader__3saCK\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2rRfb\"};","import React from \"react\";\r\nimport classes from \"./Post.module.css\";\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={classes.item}>\r\n      <img\r\n        src=\"https://upload.wikimedia.org/wikipedia/ru/thumb/b/b3/%D0%90%D0%B2%D0%B0%D1%82%D0%B0%D1%80_%D0%9F%D1%83%D1%82%D1%8C_%D0%B2%D0%BE%D0%B4%D1%8B_%D0%BF%D0%BE%D1%81%D1%82%D0%B5%D1%80.jpg/304px-%D0%90%D0%B2%D0%B0%D1%82%D0%B0%D1%80_%D0%9F%D1%83%D1%82%D1%8C_%D0%B2%D0%BE%D0%B4%D1%8B_%D0%BF%D0%BE%D1%81%D1%82%D0%B5%D1%80.jpg\"\r\n        alt=\"avatar\"\r\n      />\r\n      {props.message}\r\n      <div>\r\n        <span>like</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport classes from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport {\r\n  required,\r\n  maxLengthCreator,\r\n} from \"../../../utils/validators/validators\";\r\nimport { Textarea } from \"../../common/FormsControls/FormsControls\";\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst MyPosts = ({ posts, addPost, props }) => {\r\n  const postElements = posts.map((post) => <Post message={post.message} />);\r\n\r\n  const addNewPost = (values) => {\r\n    addPost(values.newPost);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.postsBlock}>\r\n      <h3>My posts</h3>\r\n      <div>\r\n        <AddNewPostFormRedux onSubmit={addNewPost} />\r\n      </div>\r\n      <div className={classes.posts}>{postElements}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AddNewPostForm = ({ handleSubmit, props }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <Field\r\n          component={Textarea}\r\n          name=\"newPost\"\r\n          placeholder=\"Enter new post\"\r\n          validate={[required, maxLength10]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button>Add post</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst AddNewPostFormRedux = reduxForm({ form: \"ProfileAddPostBox\" })(\r\n  AddNewPostForm\r\n);\r\n\r\nexport default MyPosts;\r\n","import { connect } from \"react-redux\";\r\nimport { addPost } from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { addPost })(MyPosts);\r\n","import React, { useEffect, useState } from \"react\";\r\n//import classes from \"./ProfileInfo.module.css\";\r\n\r\nconst ProfileStatus = (props) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateUserStatus(status);\r\n  };\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!editMode && (\r\n        <div>\r\n          <span onDoubleClick={activateEditMode}>\r\n            {props.status || \"Enter status\"}\r\n          </span>\r\n        </div>\r\n      )}\r\n      {editMode && (\r\n        <div>\r\n          <input\r\n            onChange={onStatusChange}\r\n            autoFocus={true}\r\n            onBlur={deactivateEditMode}\r\n            value={status}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatus;\r\n","import React from \"react\";\r\nimport classes from \"./ProfileInfo.module.css\";\r\nimport Preloader from \"../../../common/Preloader/Preloader\";\r\nimport userAvatar from \"./../../../../assets/images/avatar-default.png\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n\r\nconst ProfileInfo = ({ profile, status, updateUserStatus, props }) => {\r\n  if (!profile) {\r\n    return <Preloader />;\r\n  }\r\n  return (\r\n    <div>\r\n      <div className={classes.descriptionBlock}>\r\n        <img\r\n          src={profile.photos.large ? profile.photos.large : userAvatar}\r\n          alt=\"Profile\"\r\n        />\r\n        {profile ? profile.aboutMe : \"ava + description\"}\r\n        <ProfileStatus status={status} updateUserStatus={updateUserStatus} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfo from \"./MyPosts/ProfileInfo/ProfileInfo\";\r\n\r\nconst Profile = ({ profile, status, store, updateUserStatus, props }) => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo\r\n        profile={profile}\r\n        status={status}\r\n        updateUserStatus={updateUserStatus}\r\n      />\r\n      <MyPostsContainer store={store} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport Profile from \"./Profile\";\r\nimport WithRouter from \"../common/Router/WithRouter\";\r\nimport {\r\n  getUserProfile,\r\n  getUserStatus,\r\n  updateUserStatus,\r\n} from \"./../../redux/profile-reducer\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let profileId = this.props.router.params.profileId;\r\n    if (!profileId) {\r\n      profileId = this.props.profileId;\r\n      if (!profileId) {\r\n        /* Just example */\r\n        this.props.history.push(\"/login\");\r\n      }\r\n    }\r\n    this.props.getUserProfile(profileId);\r\n    this.props.getUserStatus(profileId);\r\n  }\r\n  render() {\r\n    return (\r\n      <Profile\r\n        {...this.props}\r\n        profile={this.props.profile}\r\n        status={this.props.status}\r\n        updateUserStatus={this.props.updateUserStatus}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  profileId: state.auth.userId,\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getUserStatus, updateUserStatus }),\r\n  WithRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}