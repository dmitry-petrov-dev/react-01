{"version":3,"sources":["redux/dialogs-reducer.js","assets/images/avatar-default.png","api/api.js","components/common/Router/WithRouter.js","assets/images/preloader.svg","components/Users/Users.module.css","components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControls.js","redux/auth-reducer.js","redux/app-reducer.js","utils/object-helpers.js","redux/users-reducer.js","redux/redux-store.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/users-selectors.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Login/Login.jsx","App.js","index.js","components/common/FormsControls/FormControls.module.css","components/common/Preloader/Preloader.jsx","utils/validators/validators.js","components/Header/Header.module.css","components/common/Paginator/Paginator.module.css","redux/profile-reducer.js","hoc/withAuthRedirect.jsx"],"names":["initialState","dialogs","id","name","messages","message","addMessageActionCreater","newMessageBody","type","dialogsReducer","state","arguments","length","undefined","action","Object","C_Project_Javascript_Projects_01_project_react_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","concat","C_Project_Javascript_Projects_01_project_react_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","module","exports","__webpack_require__","p","d","__webpack_exports__","usersAPI","profileAPI","authAPI","securityAPI","axios__WEBPACK_IMPORTED_MODULE_0__","instance","axios","withCredentials","baseURL","headers","API-KEY","process","getProfile","profileId","console","warn","getUsers","currentPage","pageSize","get","follow","userId","post","unfollow","delete","saveProfile","profile","put","getStatus","updateStatus","status","savePhoto","photoFile","formData","FormData","append","Content-Type","me","login","email","password","rememberMe","captcha","logout","getCaptchaUrl","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","WithRouter","Component","props","location","useLocation","navigate","useNavigate","params","useParams","a","createElement","assign","router","userPhoto","nav","FormControl","_ref","input","_ref$meta","meta","touched","error","children","hasError","react__WEBPACK_IMPORTED_MODULE_1___default","className","classes","formControl","Textarea","restProps","C_Project_Javascript_Projects_01_project_react_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","Input","createField","placeholder","validators","component","text","redux_form__WEBPACK_IMPORTED_MODULE_3__","validate","createNavLink","path","item","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","navData","isActive","active","to","isAuth","captchaUrl","setAuthUserData","payload","getAuthUserData","asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","response","_response$data$data","_login","wrap","_context","prev","next","sent","data","resultCode","stop","_x","apply","this","_ref3","_callee3","_context3","url","_x3","_ref4","_callee4","_context4","_x4","authReducer","objectSpread","initialized","appReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","el","users","totalCount","isFetching","followingInProgress","setTotalUsersCount","setCurrentPage","pageNumber","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","_ref2","users_reducer_regeneratorRuntime","_callee2","apiMethod","actionCreater","_context2","_x2","_x5","usersReducer","followed","toConsumableArray","filter","store","configureStore","reducer","profilePage","profileReducer","dialogsPage","usersPage","auth","app","form","formReducer","middleware","getDefaultMiddleware","Header","react_default","header","src","alt","loginBlock","ggLogOut","onClick","react_router_dom","HeaderContainer","components_Header_Header","React","connect","createSelector","u","getPageSize","getTotalCount","getCurrentPage","getIsFetching","getFollowingInProgress","Paginator","onPageChanged","_ref$portionSize","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","_useState","useState","_useState2","slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","cn","defineProperty","selectedPage","User","user","key","followUser","unfollowUser","objectWithoutProperties","photos","small","userAvatar","disabled","some","Users","common_Paginator_Paginator","Users_User","UsersContainer","_this","_this$props","Fragment","Preloader","components_Users_Users","compose","page","setUsers","bind","_x7","_x6","withAuthRedirect","Navbar","News","Music","Settings","LoginReduxForm","reduxForm","handleSubmit","onSubmit","required","formSummaryError","stopSubmit","_error","react_router","ProfileContainer","lazy","e","then","DialogsContainer","App","initializeApp","Header_HeaderContainer","components_Navbar_Navbar","react","fallback","element","components_News_News","components_Music_Music","components_Settings_Settings","Users_UsersContainer","components_Login_Login","AppContainer","app_reducer_regeneratorRuntime","MyApp","basename","react_redux_es","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App_0","_assets_images_preloader_svg__WEBPACK_IMPORTED_MODULE_1__","_assets_images_preloader_svg__WEBPACK_IMPORTED_MODULE_1___default","preloader","maxLengthCreator","value","maxLength","posts","likesCount","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","lookingForAJob","lookingForAJobDescription","fullName","large","setUserStatus","addPost","newPost","newPostText","getUserProfile","C_Project_Javascript_Projects_01_project_react_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__","getUserStatus","updateUserStatus","file","_ref5","_callee5","getState","_context5","abrupt","Promise","reject","C_Project_Javascript_Projects_01_project_react_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","C_Project_Javascript_Projects_01_project_react_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","postId","mapStateToPropsForRedirect","RedirectCompoenent","_React$Component","C_Project_Javascript_Projects_01_project_react_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Project_Javascript_Projects_01_project_react_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Project_Javascript_Projects_01_project_react_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","C_Project_Javascript_Projects_01_project_react_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_Project_Javascript_Projects_01_project_react_01_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_7__"],"mappings":"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","file":"static/js/main.84de4c07.chunk.js","sourcesContent":["const ADD_MESSAGE = \"myapp/dialogs/ADD_MESSAGE\";\r\n\r\nconst initialState = {\r\n  dialogs: [\r\n    { id: 1, name: \"Vasya\" },\r\n    { id: 2, name: \"Kolya\" },\r\n    { id: 3, name: \"Serega\" },\r\n    { id: 4, name: \"Andrey\" },\r\n    { id: 5, name: \"Evgeny\" },\r\n    { id: 6, name: \"Vitaliy\" },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: \"Hi\" },\r\n    { id: 2, message: \"How are you\" },\r\n    { id: 3, message: \"Bye-bye\" },\r\n    { id: 4, message: \"You are welcome!\" },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messages: [\r\n          ...state.messages,\r\n          {\r\n            id: 5,\r\n            message: action.newMessageBody,\r\n          },\r\n        ],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addMessageActionCreater = (newMessageBody) => ({\r\n  type: ADD_MESSAGE,\r\n  newMessageBody,\r\n});\r\n\r\nexport default dialogsReducer;\r\n","module.exports = __webpack_public_path__ + \"static/media/avatar-default.05556a85.png\";","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": process.env.REACT_APP_API_KEY,\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getProfile(profileId) {\r\n    console.warn(\"Obsolete method. Please profileAPI object\");\r\n    return profileAPI.getProfile(profileId);\r\n    // return instance\r\n    //   .get(`profile/` + profileId)\r\n    //   .then((response) => response.data);\r\n  },\r\n\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`);\r\n  },\r\n\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`);\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(profileId) {\r\n    return instance.get(`profile/` + profileId);\r\n  },\r\n  saveProfile(profile) {\r\n    return instance.put(`profile`, profile);\r\n  },\r\n\r\n  getStatus(profileId) {\r\n    return instance.get(`profile/status/` + profileId);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status/`, { status });\r\n  },\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photoFile);\r\n    return instance.put(`profile/photo/`, formData, {\r\n      headers: {\r\n        \"Content-Type\": \"mutlipart/form-data\",\r\n      },\r\n    });\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instance.post(`/auth/login`, {\r\n      email,\r\n      password,\r\n      rememberMe,\r\n      captcha,\r\n    });\r\n  },\r\n  logout() {\r\n    return instance.delete(`/auth/login`);\r\n  },\r\n};\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(`security/get-captcha-url`);\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\n\r\nconst WithRouter = (Component) => (props) => {\r\n  let location = useLocation();\r\n  let navigate = useNavigate();\r\n  let params = useParams();\r\n  return <Component {...props} router={{ location, navigate, params }} />;\r\n};\r\n\r\nexport default WithRouter;\r\n","module.exports = __webpack_public_path__ + \"static/media/preloader.f65d0321.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__3c2QG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3bEiV\"};","import React from \"react\";\r\nimport classes from \"./FormControls.module.css\";\r\nimport { Field } from \"redux-form\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst FormControl = ({ input, meta: { touched, error }, children }) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div\r\n      className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}\r\n    >\r\n      <div>{children}</div>\r\n      {hasError && <span>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const createField = (\r\n  placeholder,\r\n  name,\r\n  validators,\r\n  component,\r\n  props = {},\r\n  text = \"\"\r\n) => {\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={placeholder}\r\n        name={name}\r\n        component={component}\r\n        validate={validators}\r\n        {...props}\r\n      />\r\n      {text}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const createNavLink = (path, text) => {\r\n  return (\r\n    <div className={classes.item}>\r\n      <NavLink\r\n        className={(navData) => (navData.isActive ? classes.active : \"\")}\r\n        to={path}\r\n      >\r\n        {text}\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI, securityAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"myapp/auth/SET_USER_DATA\";\r\nconst SET_CAPTCHA_URL_SUCCESS = \"myapp/auth/SET_CAPTCHA_URL_SUCCESS\";\r\n\r\nconst initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case SET_CAPTCHA_URL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth = false) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, email, login, isAuth },\r\n});\r\n\r\nexport const setLoginData = (login, password, rememberMe) => ({\r\n  type: SET_USER_DATA,\r\n  loginData: { login, password, rememberMe },\r\n});\r\n\r\nexport const setCaptchaUrlSuccess = (captchaUrl) => ({\r\n  type: SET_CAPTCHA_URL_SUCCESS,\r\n  payload: { captchaUrl },\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  const response = await authAPI.me();\r\n  if (response.data.resultCode === 0) {\r\n    const { id, email, login } = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (\r\n  dispatch\r\n) => {\r\n  const response = await authAPI.login(email, password, rememberMe, captcha);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    if (response.data.resultCode === 10) {\r\n      dispatch(getCaptchaUrl());\r\n    }\r\n    const message =\r\n      response.data.messages.length > 0\r\n        ? response.data.messages[0]\r\n        : \"Some error\";\r\n    dispatch(\r\n      stopSubmit(\"login\", {\r\n        _error: message,\r\n      })\r\n    );\r\n  }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  const response = await securityAPI.getCaptchaUrl();\r\n  dispatch(setCaptchaUrlSuccess(response.data.url));\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  const response = await authAPI.logout();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"myapp/app/INITIALIZED_SUCCESS\";\r\n\r\nconst initialState = {\r\n  initialized: null,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setInitializedSuccess = () => ({\r\n  type: INITIALIZED_SUCCESS,\r\n});\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n  await dispatch(getAuthUserData());\r\n  dispatch(setInitializedSuccess());\r\n};\r\n\r\nexport default appReducer;\r\n","export const updateObjectInArray = (\r\n  items,\r\n  itemId,\r\n  objPropName,\r\n  newObjProps\r\n) => {\r\n  return items.map((el) => {\r\n    if (el[objPropName] === itemId) {\r\n      return { ...el, ...newObjProps };\r\n    }\r\n    return el;\r\n  });\r\n};\r\n","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = \"myapp/users/FOLLOW\";\r\nconst UNFOLLOW = \"myapp/users/UNFOLLOW\";\r\nconst SET_USERS = \"myapp/users/SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"myapp/users/SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_COUNT = \"myapp/users/SET_TOTAL_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"myapp/users/TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_IN_PROGRESS =\r\n  \"myapp/users/TOGGLE_IS_FOLLOWING_IN_PROGRESS\";\r\n\r\nconst initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: true,\r\n        }),\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: false,\r\n        }),\r\n      };\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      };\r\n    case SET_TOTAL_COUNT:\r\n      return {\r\n        ...state,\r\n        totalCount: action.totalCount,\r\n      };\r\n    case SET_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.pageNumber };\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching };\r\n    case TOGGLE_IS_FOLLOWING_IN_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const follow = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollow = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users, totalCount) => ({\r\n  type: SET_USERS,\r\n  users,\r\n  totalCount,\r\n});\r\nexport const setTotalUsersCount = (totalCount) => ({\r\n  type: SET_TOTAL_COUNT,\r\n  totalCount,\r\n});\r\nexport const setCurrentPage = (pageNumber) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  pageNumber,\r\n});\r\n\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\n\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_IN_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n\r\n// Thunk creator\r\nexport const requestUsers = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n\r\n    const response = await usersAPI.getUsers(page, pageSize);\r\n\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(response.data.items));\r\n    dispatch(setTotalUsersCount(response.data.totalCount));\r\n  };\r\n};\r\n\r\nconst followUnfollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMethod,\r\n  actionCreater\r\n) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  const response = await apiMethod(userId);\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreater(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const unfollowUser = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.unfollow.bind(usersAPI),\r\n      unfollow\r\n    );\r\n  };\r\n};\r\n\r\nexport const followUser = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.follow.bind(usersAPI),\r\n      follow\r\n    );\r\n  };\r\n};\r\nexport default usersReducer;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer,\r\n  },\r\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware(),\r\n});\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classes from \"./Header.module.css\";\r\n\r\nconst Header = ({ isAuth, login, logout, props }) => {\r\n  return (\r\n    <header className={classes.header}>\r\n      <img\r\n        src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Playstation_logo_colour.svg/2560px-Playstation_logo_colour.svg.png\"\r\n        alt=\"logo\"\r\n      />\r\n      <div className={classes.loginBlock}>\r\n        {isAuth ? (\r\n          <div>\r\n            {login} <i className={classes.ggLogOut} onClick={logout} />\r\n          </div>\r\n        ) : (\r\n          <NavLink to=\"/login\">Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport { logout } from \"./../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\r\n","import { createSelector } from \"reselect\";\r\n\r\n// just example using reselect\r\nconst getUsersSelector = (state) => {\r\n  return state.usersPage.users;\r\n};\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n  //fack update state\r\n  return users.filter((u) => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\nexport const getTotalCount = (state) => {\r\n  return state.usersPage.totalCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};\r\n","import cn from \"classnames\";\r\nimport React, { useState } from \"react\";\r\nimport classes from \"./Paginator.module.css\";\r\n\r\nconst Paginator = ({\r\n  currentPage,\r\n  totalCount,\r\n  pageSize,\r\n  onPageChanged,\r\n  portionSize = 10,\r\n}) => {\r\n  const pagesCount = Math.ceil(totalCount / pageSize);\r\n  const pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  const portionCount = Math.ceil(pagesCount / portionSize);\r\n  const [portionNumber, setPortionNumber] = useState(1);\r\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={classes.paginator}>\r\n      {portionNumber > 1 && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1);\r\n          }}\r\n        >\r\n          PREV\r\n        </button>\r\n      )}\r\n      {pages\r\n        .filter(\r\n          (p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber\r\n        )\r\n        .map((p) => {\r\n          return (\r\n            <span\r\n              className={cn(\r\n                {\r\n                  [classes.selectedPage]: currentPage === p,\r\n                },\r\n                classes.pageNumber\r\n              )}\r\n              onClick={() => {\r\n                onPageChanged(p);\r\n              }}\r\n            >\r\n              {p}\r\n            </span>\r\n          );\r\n        })}\r\n      {portionNumber < portionCount && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1);\r\n          }}\r\n        >\r\n          NEXT\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classes from \"./Users.module.css\";\r\nimport userAvatar from \"./../../assets/images/avatar-default.png\";\r\n\r\nconst User = ({\r\n  user,\r\n  key,\r\n  followingInProgress,\r\n  followUser,\r\n  unfollowUser,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div key={key}>\r\n      <span>\r\n        <div>\r\n          <NavLink to={\"/profile/\" + user.id}>\r\n            <img\r\n              src={user.photos.small ? user.photos.small : userAvatar}\r\n              className={classes.userPhoto}\r\n              alt=\"Profile\"\r\n            />\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInProgress.some((id) => {\r\n                return id === user.id;\r\n              })}\r\n              onClick={() => {\r\n                unfollowUser(user.id);\r\n              }}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                followUser(user.id);\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <div>{user.name}</div>\r\n        <div>{user.status}</div>\r\n      </span>\r\n      <span>\r\n        <div>{\"user.location.country\"}</div>\r\n        <div>{\"user.location.city\"}</div>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({\r\n  currentPage,\r\n  totalCount,\r\n  pageSize,\r\n  onPageChanged,\r\n  users,\r\n  followingInProgress,\r\n  followUser,\r\n  unfollowUser,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        currentPage={currentPage}\r\n        totalCount={totalCount}\r\n        pageSize={pageSize}\r\n        onPageChanged={onPageChanged}\r\n      />\r\n      <div>\r\n        {users.map((user) => (\r\n          <User\r\n            user={user}\r\n            key={user.id}\r\n            followingInProgress={followingInProgress}\r\n            followUser={followUser}\r\n            unfollowUser={unfollowUser}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {\r\n  getUsers,\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalCount,\r\n} from \"../../redux/users-selectors\";\r\nimport {\r\n  setCurrentPage,\r\n  requestUsers,\r\n  followUser,\r\n  unfollowUser,\r\n} from \"./../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    const { currentPage, pageSize } = this.props;\r\n    this.props.getUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    const { pageSize } = this.props;\r\n    this.props.getUsers(pageNumber, pageSize);\r\n    this.props.setCurrentPage(pageNumber);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalCount={this.props.totalCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          users={this.props.users}\r\n          followUser={this.props.followUser}\r\n          unfollowUser={this.props.unfollowUser}\r\n          onPageChanged={this.onPageChanged}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalCount: getTotalCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    setCurrentPage,\r\n    getUsers: requestUsers,\r\n    followUser,\r\n    unfollowUser,\r\n  }),\r\n  withAuthRedirect\r\n)(UsersContainer);\r\n","import React from \"react\";\r\nimport { createNavLink } from \"../common/FormsControls/FormsControls\";\r\nimport classes from \"./Navbar.module.css\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={classes.nav}>\r\n      {createNavLink(\"/profile\", \"Profile\")}\r\n      {createNavLink(\"/dialogs\", \"Messages\")}\r\n      {createNavLink(\"/news\", \"News\")}\r\n      {createNavLink(\"/music\", \"Music\")}\r\n      {createNavLink(\"/settings\", \"Settings\")}\r\n      {createNavLink(\"/users\", \"Users\")}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\n//import classes from \"./News.module.css\";\r\n\r\nconst News = (props) => {\r\n  return <div>News</div>;\r\n};\r\n\r\nexport default News;\r\n","import React from \"react\";\r\n//import classes from \"./Music.module.css\";\r\n\r\nconst Music = (props) => {\r\n  return <div>Music</div>;\r\n};\r\n\r\nexport default Music;\r\n","import React from \"react\";\r\n//import classes from \"./Settings.module.css\";\r\n\r\nconst Settings = (props) => {\r\n  return <div>Settings</div>;\r\n};\r\n\r\nexport default Settings;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { login, logout } from \"../../redux/auth-reducer\";\r\nimport { createField, Input } from \"../common/FormsControls/FormsControls\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport classes from \"./../common/FormsControls/FormControls.module.css\";\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(\r\n      formData.email,\r\n      formData.password,\r\n      formData.rememberMe,\r\n      formData.captcha\r\n    );\r\n  };\r\n\r\n  if (props.isAuth) {\r\n    return <Navigate to={\"/profile\"} />;\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>LOGIN</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createField(\"Email\", \"email\", [required], Input)}\r\n      {createField(\"Password\", \"password\", [required], Input, {\r\n        type: \"password\",\r\n      })}\r\n      {createField(\r\n        null,\r\n        \"rememberMe\",\r\n        [],\r\n        Input,\r\n        {\r\n          type: \"checkbox\",\r\n        },\r\n        \"Remember me\"\r\n      )}\r\n      {captchaUrl && <img src={captchaUrl} alt=\"Captcha\" />}\r\n      {captchaUrl &&\r\n        createField(\"Enter captcha value\", \"captcha\", [required], Input)}\r\n      {error && <div className={classes.formSummaryError}>{error}</div>}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: \"login\",\r\n})(LoginForm);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  captchaUrl: state.auth.captchaUrl,\r\n});\r\n\r\nexport default connect(mapStateToProps, { login, logout })(Login);\r\n","import React, { Component, lazy, Suspense } from \"react\";\r\nimport { initializeApp } from \"./redux/app-reducer\";\r\nimport store from \"./redux/redux-store\";\r\nimport { compose } from \"redux\";\r\nimport { Provider, connect } from \"react-redux\";\r\nimport { BrowserRouter, Route, Routes, Navigate } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\n//import ProfileContainer from \"./components/Profile/ProfileContainer\";\r\n//import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport Login from \"./components/Login/Login\";\r\nimport WithRouter from \"./components/common/Router/WithRouter\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\n\r\nconst ProfileContainer = lazy(() =>\r\n  import(\"./components/Profile/ProfileContainer\")\r\n);\r\nconst DialogsContainer = lazy(() =>\r\n  import(\"./components/Dialogs/DialogsContainer\")\r\n);\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        <div className=\"app-wrapper-content\">\r\n          <Suspense fallback={<div>Loading ... </div>}>\r\n            <Routes>\r\n              <Route path=\"/\" element={<Navigate to={\"/profile\"} />} />\r\n              <Route path=\"/profile/\" element={<ProfileContainer />}>\r\n                <Route path=\":profileId\" element={<ProfileContainer />} />\r\n              </Route>\r\n\r\n              <Route path=\"/dialogs/*\" element={<DialogsContainer />} />\r\n\r\n              <Route path=\"/news\" element={<News />} />\r\n              <Route path=\"/music\" element={<Music />} />\r\n              <Route path=\"/settings\" element={<Settings />} />\r\n              <Route path=\"/users\" element={<UsersContainer />} />\r\n              <Route path=\"/login\" element={<Login />} />\r\n              <Route path=\"*\" element={<div>404 - Page not found</div>} />\r\n            </Routes>\r\n          </Suspense>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapsStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n});\r\n\r\nconst AppContainer = compose(\r\n  WithRouter,\r\n  connect(mapsStateToProps, { initializeApp })\r\n)(App);\r\n\r\nconst MyApp = (props) => {\r\n  return (\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <Provider store={store}>\r\n        <AppContainer />\r\n      </Provider>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default MyApp;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport MyApp from \"./App\";\r\nimport \"./index.css\";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\n\r\nroot.render(\r\n  <React.StrictMode>\r\n    <MyApp />\r\n  </React.StrictMode>\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2eVen\",\"error\":\"FormControls_error__2kX7F\",\"formSummaryError\":\"FormControls_formSummaryError__rYbbe\",\"item\":\"FormControls_item__8Y_ld\",\"active\":\"FormControls_active__2Ewk2\"};","import React from \"react\";\r\nimport preloader from \"./../../../assets/images/preloader.svg\";\r\n\r\nconst Preloader = (props) => {\r\n  return (\r\n    <div>\r\n      <img src={preloader} alt=\"Loading\" />{\" \"}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","export const required = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value && value.length > maxLength)\r\n    return `Max length is ${maxLength} symbols`;\r\n  return undefined;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3dh7m\",\"loginBlock\":\"Header_loginBlock__2PIR_\",\"ggLogOut\":\"Header_ggLogOut__1jsCo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3-zTn\",\"pageNumber\":\"Paginator_pageNumber__1R4r7\",\"selectedPage\":\"Paginator_selectedPage__xjr1K\"};","import { usersAPI, profileAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst ADD_POST = \"myapp/profile/ADD-POST\";\r\nconst DELETE_POST = \"myapp/profile/DELETE_POST\";\r\nconst SET_USER_PROFILE = \"myapp/profile/SET_USER_PROFILE\";\r\nconst SET_USER_STATUS = \"myapp/profile/SET_USER_STATUS\";\r\nconst SAVE_PHOTO_SUCCESS = \"myapp/profile/SAVE_PHOTO_SUCCESS\";\r\n\r\nconst initialState = {\r\n  posts: [\r\n    { id: 1, message: \"Hello, World!\", likesCount: 12 },\r\n    { id: 2, message: \"second post\", likesCount: 10 },\r\n    { id: 3, message: \"third post\", likesCount: 5 },\r\n  ],\r\n  profile: {\r\n    aboutMe: null,\r\n    contacts: {\r\n      facebook: null,\r\n      website: null,\r\n      vk: null,\r\n      twitter: null,\r\n      instagram: null,\r\n      youtube: null,\r\n      github: null,\r\n      mainLink: null,\r\n    },\r\n    lookingForAJob: false,\r\n    lookingForAJobDescription: null,\r\n    fullName: null,\r\n    userId: null,\r\n    photos: { small: null, large: null },\r\n  },\r\n  status: null,\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        posts: [\r\n          ...state.posts,\r\n          {\r\n            id: 5,\r\n            message: action.newPostText,\r\n            likesCount: 0,\r\n          },\r\n        ],\r\n      };\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter((post) => post.id !== action.postId),\r\n      };\r\n    case SET_USER_PROFILE:\r\n      return { ...state, profile: action.profile };\r\n    case SET_USER_STATUS:\r\n      return { ...state, status: action.status };\r\n    case SAVE_PHOTO_SUCCESS:\r\n      return { ...state, profile: { ...state.profile, photos: action.photos } };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({\r\n  type: ADD_POST,\r\n  newPostText,\r\n});\r\n\r\nexport const deletePostActionCreator = (postId) => ({\r\n  type: DELETE_POST,\r\n  postId,\r\n});\r\n\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\n\r\nexport const setUserStatus = (status) => ({\r\n  type: SET_USER_STATUS,\r\n  status,\r\n});\r\n\r\nexport const savePhotoSuccess = (photos) => ({\r\n  type: SAVE_PHOTO_SUCCESS,\r\n  photos,\r\n});\r\n\r\nexport const addPost = (newPost) => (dispatch) => {\r\n  dispatch(addPostActionCreator(newPost));\r\n};\r\n\r\nexport const getUserProfile = (profileId) => async (dispatch) => {\r\n  const response = await usersAPI.getProfile(profileId);\r\n  dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getUserStatus = (profileId) => async (dispatch) => {\r\n  const response = await profileAPI.getStatus(profileId);\r\n  dispatch(setUserStatus(response.data));\r\n};\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n  const response = await profileAPI.updateStatus(status);\r\n  if (!response.data.data.resultCode) {\r\n    dispatch(setUserStatus(status));\r\n  }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  const response = await profileAPI.savePhoto(file);\r\n  if (!response.data.resultCode) {\r\n    dispatch(savePhotoSuccess(response.data.data.photos));\r\n  }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  const response = await profileAPI.saveProfile(profile);\r\n  if (!response.data.resultCode) {\r\n    dispatch(getUserProfile(userId));\r\n  } else {\r\n    dispatch(\r\n      stopSubmit(\"edit-profile\", {\r\n        _error: response.data.messages[0],\r\n      })\r\n    );\r\n    return Promise.reject(response.data.messages[0]);\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst mapStateToPropsForRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectCompoenent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Navigate to={\"/login\"} />;\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  const ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n    RedirectCompoenent\r\n  );\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n"],"sourceRoot":""}